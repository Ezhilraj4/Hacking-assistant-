/* --- Global Reset and Typography --- */
body {
    background-color: #000;
    color: #00ff41; /* Neon Green */
    font-family: 'Consolas', 'Courier New', Courier, monospace;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh; /* FIX: Ensure body takes up the full viewport height */
    width: 100vw;
    overflow: hidden; 
    position: relative; 
}

/* --- Layout Grid (4-Column Layout) --- */
.console-container {
    display: grid;
    gap: 15px;
    width: 95vw;
    max-width: 1500px;
    height: calc(100vh - 40px); /* FIX: Set a calculated height to fill the screen minus padding */
    
    /* 4 columns: Globe (1), Alerts (1), Analysis (2) */
    grid-template-columns: 1fr 1fr 1fr 1fr; 
    grid-template-rows: 2fr 1fr; /* Top row taller than bottom */
    position: relative; 
    z-index: 1; 
}

/* --- Panel Styling --- */
.panel {
    border: 2px solid #00ff41;
    padding: 10px;
    background-color: rgba(0, 50, 0, 0.1); /* Subtle dark green transparency */
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.5), inset 0 0 5px rgba(0, 255, 65, 0.2); /* Neon Glow */
    height: 100%; 
    display: flex; 
    flex-direction: column;
    min-height: 0; /* Ensures panels are correctly sized within the grid */
}

/* --- Panel Mapping --- */
.globe-panel { grid-area: 1 / 1 / 2 / 2; align-items: center; justify-content: space-between; }
.email-panel { grid-area: 1 / 2 / 2 / 3; }
.analysis-panel { grid-area: 1 / 3 / 2 / 5; }
.neural-network-panel { grid-area: 2 / 1 / 3 / 2; display: flex; flex-direction: column; } /* NEW PANEL */
.input-area { grid-area: 2 / 2 / 3 / 4; display: flex; flex-direction: column; padding: 0; border: none; background: none; box-shadow: none; }
.metrics-panel { grid-area: 2 / 4 / 3 / 5; }

/* --- Globe Visual Styling --- */
.globe-container {
    width: 100%;
    height: 70%; 
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden; 
    margin-top: 10px;
}
.globe-visual {
    width: 150px; 
    height: 150px; 
    border-radius: 50%;
    /* Use the uploaded file name for the background image */
    background-image: url('1000060351.webp-47ae13db-a38b-408a-9443-1ac013f93f50'); 
    background-size: cover; 
    background-position: center;
    opacity: 0.8; 
    filter: brightness(200%) saturate(150%) hue-rotate(90deg) drop-shadow(0 0 15px #00ff41);
    border: 1px solid #00ff41;
    box-shadow: 0 0 20px rgba(0, 255, 65, 0.8);
    transition: transform 2s ease-in-out; 
    transform: rotateY(0deg) scale(1.0);
}
.location-info {
    width: 100%;
    text-align: center;
    margin-top: auto; 
    padding-top: 10px;
}
#change-proxy {
    background-color: #ff4136; 
    color: #000;
    border: none;
    padding: 8px 15px;
    margin-top: 10px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s;
    font-family: 'Consolas', monospace;
}
#change-proxy:hover:not(:disabled) { background-color: #cc332a; }
#change-proxy:disabled { background-color: #444; color: #aaa; cursor: not-allowed; }


/* --- Neural Network Visuals (NEW) --- */
.nn-visual-container {
    position: relative;
    width: 100%;
    height: 150px; 
    margin-bottom: 10px;
    border-bottom: 1px solid rgba(0, 255, 65, 0.2);
}
.nn-node {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #00ff41;
    box-shadow: 0 0 8px #00ff41;
    animation: pulseNode 2s infinite alternate;
    z-index: 10;
}
/* Positioning the nodes */
.node-a { top: 20px; left: 20px; }
.node-b { top: 70px; left: 70px; animation-delay: 0.5s; }
.node-c { top: 20px; right: 20px; animation-delay: 1s; }
.node-d { bottom: 20px; right: 70px; animation-delay: 1.5s; }

/* Connecting lines */
.nn-line {
    position: absolute;
    background-color: rgba(0, 255, 65, 0.2);
    height: 2px;
}
.line-1 { top: 25px; left: 30px; width: 40px; transform: rotate(-45deg); transform-origin: 0 0; }
.line-2 { top: 75px; left: 80px; width: 50px; }
.line-3 { top: 25px; left: calc(100% - 30px); width: 40px; transform: rotate(45deg); transform-origin: 100% 0; }

/* Keyframes for animation */
@keyframes pulseNode {
    from {
        box-shadow: 0 0 4px #00ff41;
        transform: scale(1);
    }
    to {
        box-shadow: 0 0 15px #ff4136;
        transform: scale(1.3);
    }
}
.nn-metrics {
    padding-top: 5px;
}

/* --- Headers, Content, and Terminal Styles --- */
h2 {
    color: #ff4136; 
    border-bottom: 1px solid #00ff41;
    padding-bottom: 5px;
    margin-top: 0;
    text-shadow: 0 0 5px #ff4136;
}
.content {
    max-height: 100%; 
    overflow-y: auto;
    padding-top: 5px;
    flex-grow: 1;
}
.terminal-line { margin: 3px 0; }
.input { color: #80bfff; } 
.error { color: #ff4136 !important; font-weight: bold; }
.success { color: #00ff41; }
.high-p { color: #ff4136; } 
.low-p { color: #00ff41; opacity: 0.7; }
.keyboard {
    height: 150px;
    width: 100%;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 200"><rect x="0" y="0" width="800" height="200" fill="%23050505"/><rect x="50" y="50" width="700" height="100" fill="none" stroke="%2300ff41" stroke-width="2"/></svg>') no-repeat center center / contain;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 5px;
}
.keyboard-placeholder { color: rgba(0, 255, 65, 0.3); font-size: 0.8em; }
.terminal-input { display: flex; align-items: center; background-color: #0a0a0a; border: 1px solid #00ff41; }
#command-input { flex-grow: 1; background: none; border: none; color: #00ff41; font-family: 'Consolas', 'Courier New', monospace; padding: 10px; outline: none; font-size: 1.1em; }
#command-input::placeholder { color: rgba(0, 255, 65, 0.5); }
#send-command { background-color: #00ff41; color: #000; border: none; padding: 10px 15px; cursor: pointer; font-weight: bold; transition: background-color 0.2s; }
#send-command:hover { background-color: #00cc33; }
